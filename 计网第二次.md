######P2.式（1-1）给出了经传输速率为R的N段链路发送长度L的一个分组的端到端时延。对于经过N段链路一个接一个地发送P个这样的分组，一般化地表示出这个公式。

在时间N *（L / R），第一个数据包到达目的地，第二个数据包存储在最后一个路由器中，第三个数据包存储在倒数第二个路由器中。

在时间N *（L / R ）+ L / R，第二个数据包到达目的地，第三个数据包存储在最后一个路由器中，依此类推。因此，我们看到在时间 N  * （L / R）+（P-1） * （L / R）=（N + P-1） * （L / R）所有数据包都已到达目的地。

######P5.回顾在1.4节中的车队的类比。假定传播速度为100km/h a.假定车队旅行150km：在一个收费站前面开始，通过第二个收费站，并且正好在第三个收费站后 面结束。其端到端时延是多少？ b.重复（a）,现在假定车队中有8辆汽车而不是10辆。

（a）收费站完成对十辆车的维修需要：12 * 10 = 120s 即两分钟

每辆车到达下一个收费站需要：75km / 100(km/h) = 0.75h 即45分钟

因此，总延迟为2+45+2+45+2=96min

（b）若改为八辆车，维修时间变为：12 * 8 = 96s

因此，总延迟为96s+45min+96s+45min+96s=94min48s

######P10.考虑一个长度为L的分组从端系统A开始，经3段链路传送到目的端系统。令di、si和Ri表示链路 i的长度、传播速度和传输速率（i = l, 2, 3）。该分组交换机对每个分组的时延为dproc。假定没有排队时延，用di,si,Ri(i=1,2,3)和L表示，该分组总的端到端时延是什么？现在假定该分组 是1500字节，在所有3条链路上的传播时延是2.5x10^8 m/s,所有3条链路的传输速率是2Mbps, 分组交换机的处理时延是3ms,第一段链路的长度是5000km,第二段链路的长度是4000km,并且 最后一段链路的长度是1000km。对于这些值，该端到端时延为多少？ 

(1)总的端到端的时延为d= L/R1 + L/R2 + L/R3 + d1/s1 + d2/s2 + d3/s3+ dproc+ dproc

(2)将数据带入（1）中式子，得6 + 6 + 6 + 20+16 + 4 + 3 + 3 = 64 msec

######P11.在上述习题中，假定R1=R2=R3=R且dproc=0。进一步假定该分组交换机不存储转发分组，而是在等待分组到达前立即传输它收到的每个比特。这时端到端时延为多少？

(1)因为比特是立即发送的，所以分组交换不会引入任何延迟；所以d=L/R+d1/s1+d2/s2+d3/s3.

(2)带入式子，得6 + 20 + 16 + 4 = 46 msec.

######P12.一台分组交换机接收一个分组并决定该分组应当转发的出链路。当某分组到达时，另一个分组正在该出链路上被发送到一半，还有4个其他分组正等待传输。这些分组以到达的次序传输。假定所有分组是1500字节并且链路速率是2Mbps。该分组的排队时延是多少？在更一般的情况下，当所有分组的长度是L，传输速率是R,当前正在传输的分组已经传输了x比特，并且已经在队列中有n个分组，其排队时延是多少？

(1)到达的数据包必须首先等待链路传输,共4.5 * 1,500字节= 6,750字节。因此，排队时延为6750字节/2Mbps=27msec。

(2)排队时延为(nL + (L - x))/R.sec。